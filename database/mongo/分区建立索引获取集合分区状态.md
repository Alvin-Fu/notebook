# 1、分片
mongo中的分片
开启数据库的分片`sh.enableSharding("mydb")`
开启集合的分片 `sh.shardCollection("mydb.collection", { "uin":"hashed"})`
查看集合的分片信息`db.collection.getShardDistribution()`

# 2、设置索引
mongo中设置唯一索引，ttl索引，普通索引，hashed分片行成的索引

## 2.1 唯一索引

## 2.2 ttl索引
设置ttl索引 `db.collection.createIndex({"exAt": 1}, {expireAfterSeconds: 600})`这里的单位是s
插入内容 `db.collection.insertOne({"name": "112", "age": 30, "exAt": new Date(Date.now() + 600*1000)})` 这里的是微妙时间戳
这个文档最终的过期时间是exAt + expireAfterSeconds，上面的例子是1200/s
