数据库的分库，分表和分区
# 数据的拆分
数据拆分就是为了将单表的数据分散到多个数据库的多个表中

将数据尽可能的平均拆分，避免因为数据出现在单表中数据过大导致的**读写的性能问题**。
因为如果**不均匀**的拆分还是会产生数据访问++热点问题++， 热点数据增长过快会导致单表的性能问题
在使用中如何选择维度进行拆分：
	- 一般情况（大多的默认情况）：使用的是业务数据ID(一般是自增)进行拆分，这种情况下可以尽可能的平均
	- 更多的情况：是需要根据业务的情况进行拆分的

# 尽量减少事务边界

事务边界：事务边界指在分库分表的情况下单个sql语句在后端数据库同时执行的数量
事务边界产生的主要原因是由于分库分表以后，业务在使用的时候不能携带分库分表字段导致的，这时需要进行全表扫描
如果出现大面积的全表扫描时，这时会导致整个系统的连接能取决于单个数据库的连接能力
在实际的业务中全表扫描是不可避免的，在这个地方避免了，就会出现新的问题

分库分表在实际的使用过程中sql语句中不能总是将分库分表的键带上，这是会导致一条语句需要后端数据都去执行
事务边界：指单个sql语句在后端数据库上同时执行的数量，即一条sql语句同时被推送到后端所有数据库运行。
事务边界的数量越大，会给系统带来弊端：系统的锁冲突概率越高
全表扫描：再数据库中对无索引的表进行查询时会进行全表扫描
可以使用全表扫描的场景：
	1. 不是高并发同时请求的情况下
	2. 再一些复杂的检索中，并且这种请求不是特别常见的，因此不会对系统带来太大的负担

这种情况在过去的项目在使用数据组件的过程中经常遇到，再业务使用中，经常会有场景不能携带分表分库字段，导致了很多的麻烦（被吐槽很多）

# 异构索引表尽量降低全表扫描的频率
  空间换时间的做法







参考资料：
[阿里的分库分表](https://mp.weixin.qq.com/s/YpirU0zbZfKNxDSQSTNaxQ)
[阿里开发规范](https://yq.aliyun.com/articles/69327)