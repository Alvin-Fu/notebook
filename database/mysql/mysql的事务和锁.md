# mysql的事务和锁
```
mysql的事务隔离级别一共有四个，读未提交，读已提交，可重复读和可串行化
```
## 事务
### 问题
脏读，幻读，不可重复读
#### 脏读
表示一个事务读到了另一个未提交事务修改过的数据。
事务A和事务B，当B修改了数据这事务还没提交的时候，A就读到了这个修改的数据，当B进行回滚的时候这个时候A就读到了不存在的数据。
脏读只会在读未提交隔离级别才会出现

#### 不可重复读
一个事务只能读到另一个已经提交的事务修改过的数据，并且其他事务每对该数据进行一次修改并提交后，该事务都能查询得到最新值
不可重复读在读未提交和读已提交隔离级别都可能会出现，主要是是对数据进行update操作
危害：会导致前后读取的数据不一致
解决：使用行级锁，锁定该行，事务A读取操作完成后才释放锁，这段时间不允许其他事务更改刚才的

#### 幻读
事务A在执行读取的时候，前一次和后一次读取到的数据总量不同，在两次读取的间隙另一个事务B进行了新增数据的操作，这个时候事务A在第二次读取的时候获取到数据量就和之前的不一样了，就好像幻觉一样，平白无故的多了几条数据
解决：使用表级锁，锁定整张表，当事务A多次读取执行完后才允许其他事务新增数据

**不可重复读和幻读的区别**

1. 不可重复读是读取了其他事务更改的数据，(update)
2. 幻读是读取了其他事务新增的数据(insert和update)



## 隔离级别














