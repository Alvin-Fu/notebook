# TCP交互数据流
[TCP/IP详解目录](http://www.52im.net/topic-tcpipvol1.html)
[第十九章](http://docs.52im.net/extend/docs/book/tcpip/vol1/19/)
## 摘要
目前建立在TCP协议的网络协议特别多，telnet，ssh，FTP，POP3，HTTP等。
这些协议可以根据数据吞吐两大致分为两类：
- 交互数据流：例如：telnet，ssh这些协议在大多数情况下只是小流量的数据交换，键盘的输入或在回显。
- 成块数据流：例如：ftp等协议需要TCP尽可能的装载在更多的数据(一般只满载数据，提高吞吐量)，这样来提高数据传输效率
对于这两种不同类型TCP有着不同的传输策略。
## 交互数据流
一般交互数据流都是一个发送一个确认这样的，比如键盘的输入。这样难免在一些交互性要求较高的情况下效率很低，这时TCP给出了两种策略：
- 稍带ACK，(在服务端发给客户端的包中带上ACK)
- Nagle算法(一次尽量多的发送数据)
### 稍带ACK
这种方式就是在收到包以后不马上返回ACK确认包，而是和发送的数据包一起返回(稍带返回)。不过这个一般会有一个最大时间(200ms)，如果到了时间还没有数据需要一起返回这时就主动返回ACK。
### Nagle算法
由于很多交互式的方式会产生很多微小分组,在局域网不会引起问题，但是当了广域网中这些小分组可能会导致拥塞的出现。
## 成块数据流
